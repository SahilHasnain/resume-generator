<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>One-page A4 Resume</title>

    <!-- Tailwind CSS (CDN) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              brand: {
                50: "#eef2ff",
                100: "#e0e7ff",
                200: "#c7d2fe",
                300: "#a5b4fc",
                400: "#818cf8",
                500: "#6366f1",
                600: "#4f46e5",
                700: "#4338ca",
                800: "#3730a3",
                900: "#312e81",
              },
            },
            fontFamily: {
              sans: [
                "Inter",
                "system-ui",
                "Segoe UI",
                "Roboto",
                "Arial",
                "sans-serif",
              ],
            },
          },
        },
      };
    </script>

    <!-- Inter font -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- html2pdf (bundles html2canvas + jsPDF) -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"
      integrity="sha512-GsLlZN/3F2ErC5ifS5QtgpiJtWd43JWSuIY5x2H+4m+Z4YKB2FgsZ3fZ1YqfN0CB9ZCkXtqKkK2ZL3rW4J5fJg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <style>
      /* Page + print setup for exact A4 */
      @page {
        size: A4;
        margin: 0;
      }
      html,
      body {
        height: 100%;
      }
      body {
        background: #0f172a0d;
      }
      .no-print {
        print-color-adjust: exact;
        -webkit-print-color-adjust: exact;
      }
      .screen-only {
        display: block;
      }
      .print-hidden {
        display: block;
      }
      @media print {
        body {
          background: white;
        }
        .screen-only {
          display: none !important;
        }
        .print-hidden {
          display: none !important;
        }
        #resume-page {
          box-shadow: none !important;
          margin: 0 !important;
        }
      }
      /* A4 canvas wrapper */
      #resume-page {
        width: 210mm; /* A4 width */
        min-height: 297mm; /* ensure at least A4 height */
        background: white;
      }
      /* Scaling wrapper to auto-fit content vertically on the page */
      #scale-wrap {
        transform-origin: top left;
      }
    </style>
  </head>
  <body class="font-sans text-slate-800 antialiased">
    <!-- Actions Bar -->
    <div
      class="screen-only sticky top-0 z-50 bg-white/90 backdrop-blur border-b border-slate-200"
    >
      <div
        class="mx-auto max-w-5xl px-4 py-2 flex items-center justify-between gap-3"
      >
        <div class="text-sm text-slate-600">
          A4 one-page resume. Optimize for humans, not just design.
        </div>
        <div class="flex items-center gap-2">
          <button
            id="fitBtn"
            class="print-hidden inline-flex items-center gap-2 rounded-md border border-slate-300 px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50"
          >
            Auto-fit
          </button>
          <button
            id="printBtn"
            class="print-hidden inline-flex items-center gap-2 rounded-md border border-slate-300 px-3 py-1.5 text-sm font-medium text-slate-700 hover:bg-slate-50"
          >
            Print
          </button>
          <button
            id="downloadBtn"
            class="print-hidden inline-flex items-center gap-2 rounded-md bg-brand-600 px-3 py-1.5 text-sm font-semibold text-white hover:bg-brand-700"
          >
            Download PDF
          </button>
        </div>
      </div>
    </div>

    <!-- Resume Page Canvas -->
    <main class="mx-auto my-6 max-w-5xl px-4">
      <div
        id="resume-page"
        class="mx-auto shadow-2xl ring-1 ring-black/5 rounded-sm"
      >
        <div id="scale-wrap">
          <div id="resume-root" class="p-8">
            <!-- Populated by script.js from data.js -->
          </div>
        </div>
      </div>
    </main>

    <!-- Data then renderer -->
    <script src="./data.js"></script>
    <script src="./script.js"></script>
  </body>
</html>
